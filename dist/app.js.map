{"version":3,"sources":["../src/app.js"],"names":["window","onload","root","document","getElementById","TEXT_ELEMENT","element","render","node","parentNode","type","props","isTextElement","dom","createTextNode","createElement","isListener","name","startsWith","Object","keys","filter","forEach","eventType","toLowerCase","substring","addEventListener","isAttribute","childElements","children","childElement","append","config","args","hasChildren","length","rawChildren","e","undefined","map","createTextElement","value","nodeValue"],"mappings":"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","sourcesContent":["/** @jsx createElement */\nwindow.onload = () => {\n  const root = document.getElementById(\"root\");\n  const TEXT_ELEMENT = \"TEXT ELEMENT\";\n  const element = (\n    <div>\n      <div>hai</div>\n      <div>it works</div>\n      <input type=\"text\" value=\"john\"/>\n    </div>\n  );\n\n  function render(node, parentNode) {\n    const { type, props } = node;\n\n    const isTextElement = type === TEXT_ELEMENT;\n\n    const dom = isTextElement\n      ? document.createTextNode(\"\")\n      : document.createElement(type);\n\n    const isListener = name => name.startsWith(\"on\");\n\n    Object.keys(props)\n      .filter(isListener)\n      .forEach(name => {\n        const eventType = name.toLowerCase().substring(2);\n        dom.addEventListener(eventType, props[name]);\n      });\n\n    const isAttribute = name => !isListener(name) && name !== \"children\";\n\n    Object.keys(props)\n      .filter(isAttribute)\n      .forEach(name => {\n        dom[name] = props[name];\n      });\n    const childElements = props.children || [];\n\n    childElements.forEach(childElement => render(childElement, dom));\n    parentNode.append(dom);\n  }\n\n  function createElement(type, config, ...args){\n    const props = {...config};\n    const hasChildren = args.length > 0;\n    const rawChildren = hasChildren ? [...args] : [];\n    props.children = rawChildren\n      .filter(e => e !== null && e !== undefined)\n      .map(e => e instanceof Object ? e : createTextElement(e));\n    return {type, props}\n  }\n\n  function createTextElement(value){\n    return createElement(TEXT_ELEMENT, {nodeValue: value})\n  }\n\n  render(element, root);\n};\n"],"file":"app.js"}